% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/async_controller.R
\name{cleanup_async}
\alias{cleanup_async}
\title{Clean Up Async Resources}
\usage{
cleanup_async(controller, socket)
}
\arguments{
\item{controller}{A crew controller object created by \code{create_controller()}.
Can be NULL if controller was not successfully created.}

\item{socket}{A nanonext publisher socket created by \code{create_pub_socket()}.
Can be NULL if socket was not successfully created.}
}
\value{
NULL (invisibly). Side effect: workers stopped, sockets closed.
}
\description{
Shuts down crew workers and closes nanonext sockets.
Should always be called when async simulation completes or errors.
}
\details{
Performs graceful shutdown:
\enumerate{
\item Terminates all crew workers (sends shutdown signal)
\item Closes nanonext publisher socket
\item Logs cleanup status
}

This function is safe to call multiple times and handles NULL inputs
gracefully (useful for error cleanup).

Always call this function in a \code{tryCatch()} finally block to ensure
resources are cleaned up even if the simulation errors.
}
\examples{
\dontrun{
# Typical usage pattern
controller <- NULL
socket <- NULL

tryCatch({
  controller <- create_controller(n_workers = 2)
  socket <- create_pub_socket(port = 5555)

  # ... run simulation ...

}, finally = {
  cleanup_async(controller, socket)
})
}

}
\seealso{
\code{\link{create_controller}}, \code{\link{create_pub_socket}}
}
